/*
--------------------------------------------------
    James William Fletcher (github.com/mrbid)
--------------------------------------------------
    Auto-shoot / trigger bot for CS:GO.
    https://github.com/tfcnn
    	July 2021

    Compile:
    clang gobot7_fnn.c -Ofast -mavx -mfma -lX11 -lm -o aim
*/

#include <stdio.h>
#include <string.h>
#include <unistd.h>
#include <stdlib.h>
#include <stdint.h>
#include <math.h>
#include <time.h>
#include <X11/Xlib.h>
#include <X11/Xutil.h>
#include <sys/time.h>

// where the magic happens
const float aim_kernel[] = {0.13830195,-0.2584681,-0.19727053,-0.33284944,-0.5459533,-0.646869,-0.14196542,0.43027362,-0.10807914,0.5248363,0.6365992,0.15752885,0.100530155,0.03177973,0.048151787,-0.3397868,-0.59260404,-0.5263171,0.02613524,0.3717399,-0.35937902,-0.31546226,-0.20835266,0.06982335,-0.16407283,0.09294793,-0.08768125,-0.03117142,-0.2029078,-0.06892365,-0.33889848,-0.3080102,-0.2662244,0.13131648,0.36910143,0.14944007,-0.101643756,0.25289363,-0.38171357,-0.3477241,0.21855167,0.3510571,0.09340535,0.45969403,0.39245582,0.315392,-0.08075739,0.17851205,-0.039669164,-0.5850605,-0.45066905,0.3560225,0.2081432,0.5175791,-0.34888518,-0.043518603,0.2815485,-0.4060906,0.42265013,0.11926816,-0.36309975,0.4383781,0.87023747,-0.5660248,-0.27919355,0.25628453,0.07597635,0.19248411,0.14679453,0.034832336,0.015677638,0.016181005,0.19021124,0.06316268,0.04062272,-0.40658662,0.23372087,0.53707665,-0.80922735,-0.62655795,-0.15257049,-0.513377,-0.54794794,-0.04990128,-0.114863515,-0.30231422,0.21855558,-0.22346601,-0.055997785,0.16968098,-0.7043893,0.3317489,0.13600017,-0.6665794,-0.38068405,-0.18119362,-0.09957584,0.15177788,-0.15705806,0.31194577,0.00876565,-0.4454039,0.1727256,0.052964628,-0.029682456,-0.107663766,-0.3334577,0.40939543,0.0017828216,-0.40397444,-0.2780745,0.26688176,0.13040958,-0.05794128,0.31177625,0.38355812,0.03752802,-0.5325749,0.017943041,-0.12755512,0.13893446,0.36734787,0.0026976445,-0.13312222,0.22289743,0.31431946,-0.28536376,-0.3355573,-0.52465975,-0.014493871,-0.45667818,-0.4009589,-0.08241415,-0.6738744,-0.16492313,0.40229112,-0.09708144,0.41205248,0.33382243,-0.04688093,-0.1920185,-0.1718472,-0.30430603,-0.1204448,0.22140308,-0.058593422,-0.14887013,0.61343884,-0.4233518,-0.21819319,0.28863028,-0.6353152,-0.4487444,-0.15059866,-0.55078965,-0.018456763,-0.009266521,-0.41579843,-0.15662885,-0.0755462,-0.14056006,0.44151592,0.16528572,-0.6266124,-0.16255233,0.5044311,-0.25168288,-0.045430753,-0.22353578,0.20856628,0.39113796,-0.026241612,0.2788033,0.39543,-0.23941563,0.50614804,0.4096628,-0.18468337,0.1712176,0.22072586,-0.2369195,0.012483038,-0.54382116,0.85403234,0.7255977,0.21442445,0.11163643,-0.09459005,0.02794259,0.07488383,-0.10093504,0.04371233,0.5069654,0.40740693,-0.22453564,0.26920882,0.25158092,-0.19332041,-0.16136214,-0.059683044,-0.23949002,-0.3788001,0.20677496,-0.036497656,0.14219533,0.66265076,-0.4337587,0.13733228,0.0075025586,0.07082199,0.035324078,-0.65826935,-0.47127226,0.49470374,0.039283387,0.03257031,0.36571872,-0.119804315,0.05745653,0.06050251,-0.48130608,0.04401813,0.0004533205,0.36206782,-0.11190458,-0.20059972,-0.07416486,-0.5888846,-0.21614748,-0.22505634,-0.29523346,-0.19496132,-0.3634432,-0.15920952,0.07053066,-0.16634141,0.08395714,-0.16004495,-0.1037493,-0.36226895,-0.17935565,-0.31384116,-0.23680747,-0.27709332,-0.073330194,0.14903203,0.1415589,-0.034748282,0.12816998,0.27002922,0.08294801,0.0875274,-0.36520997,-0.03156311,-0.35330695,-0.3369145,0.085722044,-0.2693875,-0.67492795,0.06680864,-0.1864201,0.14057676,-0.3204817,-0.24037851,-0.036986224,-0.4369153,-0.22744446,-0.2811458,-0.5175986,-0.33076793,0.45015812,0.13615917,0.04298538,-0.12493435,-0.31548002,-0.2867981,0.029247185,-0.17472611,0.046506718,-0.12200289,0.013843649,0.25333735,-0.37221652,-0.60239,0.42236912,-0.051313855,0.02197339,0.24322,0.1709118,0.3780326,0.05800642,-0.31639987,0.055159174,-0.06340869,0.030532915,0.17062041,0.27581233,-0.43076614,-0.18914625,-0.302603,-0.14255218,-0.06236371,0.13779947,-0.24553883,0.11876301,-0.120992474,-0.16467097,0.16128549,-0.39010605,-0.3946906,0.13727915,-0.077831246,-0.18025598,-0.14117834,-0.1034388,-0.1504231,-0.017184678,-0.18033881,-0.080589995,0.19384229,0.6606431,0.19300914,0.36759648,0.25778416,-0.45914453,0.19376278,-0.22121413,-0.03357494,0.17349592,0.27885616,-0.034957625,0.026210813,-0.22683638,0.16887857,0.0921292,-0.033024956,-0.14604548,0.34143966,-0.24199186,-0.3053476,0.07063577,-0.2136359,0.12228494,0.62073123,0.2913298,-0.49802858,-0.50860167,-0.41110498,-0.35253993,-0.39260396,-0.25126454,0.38945657,0.19810462,0.025336929,0.32341236,0.20737682,0.32605124,0.2108815,-0.22729625,0.24397057,-0.12516552,-0.74297917,-0.12365586,0.11860016,-0.24801467,0.16187881,-0.46478814,-0.6622445,-0.15700284,0.13136472,0.42444098,0.928918,-0.33614644,-0.15000874,-0.52791095,-0.25809446,0.6070635,0.25217864,-0.073057905,0.5343874,0.07094159,-0.046977546,0.09877931,0.3865079,-0.18004028,-0.35380977,0.11690003,-0.32039422,0.04953858,0.24605499,-0.5600087,0.12969396,-0.26583847,0.13154219,0.15843277,0.16837633,-0.30756044,-0.14795326,-0.1480287,0.14888678,0.3210783,-0.09786099,0.38977018,0.15873246,-0.111035466,-0.35595474,-0.21413533,-0.1539683,0.2577952,0.39273053,0.18587434,-0.42850968,-0.43880525,-0.40431914,-0.14149728,-0.29371747,-0.3054308,0.08222481,0.2647802,0.13090941,-0.25052732,-0.027676286,0.1722117,0.4667445,0.07275335,0.2574888,0.25504255,0.33504382,0.28067967,0.18913607,-0.07155946,0.1358231,0.30460095,0.23508887,-0.11061447,-0.6759592,-0.4136358,-0.8170134,0.17570737,0.036365837,0.22525573,-0.4112242,-0.041552596,0.25321075,0.19103782,0.41246244,0.77272624,-0.26827255,-0.34772706,-0.61010474,0.14719395,-0.2132325,0.10306549,-0.27176678,-0.4843899,-0.3508182,0.1457696,-0.14692307,-0.32286075,-0.60085326,0.009687014,0.35114446,-0.31705242,-0.21925117,-0.23135473,-0.13128816,0.32095686,0.17676812,0.03922247,0.22134896,0.25061753,0.011024381,0.18284789,0.0015712567,0.073587105,0.31561193,-0.06364597,-0.06432575,0.5040102,0.007969784,-0.29498586,0.40482178,0.23261791,-0.39586723,-0.34943095,-0.4483538,0.16969836,0.024108425,0.0072914367,-0.4231807,-0.055835232,-0.31412855,0.02504872,0.25129017,-0.18938781,-0.15846735,-0.21089315,0.12938783,0.071427755,0.27528924,0.07885611,-0.07060661,-0.17539304,0.41142493,-0.73588425,-0.56508124,-0.2971776,0.13145469,-0.12412505,0.14170031,-0.5259903,-0.55080396,-0.49989435,0.6303276,0.5052416,0.67214125,0.17264457,-0.07296936,-0.090437524,-0.019981334,-0.64605814,-0.7055075,0.15615448,0.060181253,-0.11756961,0.08089544,-0.25470826,-0.47694823,-0.13407896,-0.012767373,-0.12422292,0.15509406,0.0536712,-0.12779342,0.29533994,0.10097059,-0.04189748,-0.15742458,-0.50453156,-0.0949797,0.52798736,0.1675765,-0.23930258,-0.0475994,-0.0029309099,-0.13230339,-0.08676038,0.105858624,0.5909198,-0.52276003,0.2875677,-0.18115698,0.6177723,0.91521794,0.19226395,0.13349327,0.15091623,-0.42861846,0.054015186,-0.4198749,-0.39003965,-0.18506329,-0.3930261,-0.63111997,-0.11871722,0.22904383,-0.17391226,0.15912089,0.2030724,0.06965916,-0.45115265,-0.70962554,-0.28220448,-0.22487418,-0.46144494,-0.26344332,0.4982734,0.104629815,-0.4646767,0.09525701,-0.60253173,0.14188105,0.23893623,0.114810355,0.1919044,-0.6237835,-0.42957345,0.035052825,-0.16401683,-0.011498047,0.41584542,-0.07215557,-0.37031093,0.048716865,0.023602476,0.083578415,0.025369877,0.14453477,-0.15498978,0.090688854,-0.46289164,-0.78126675,-0.5157638,0.27626836,0.10852359,-0.10277895,-0.093076676,-0.6383232,-0.21556896,0.27951163,0.35339612,0.079779245,0.04585685,0.43333164,-0.5733591,0.2879734,0.7120152,-0.27345517,-0.17642169,-0.45808506,-0.10374484,-0.44600588,0.062143464,-0.75794363,0.5677751,0.6607818,-0.31817308,0.17505284,0.81545466,0.320094,-0.1033407,-0.15919904,-0.29515177,0.09260711,0.40585816,0.2764359,-0.45743778,0.17839958,0.1342841,0.21417402,0.33696046,-0.09634871,-0.115088366,-0.6423205,-0.37088528,-0.026781403,-0.05143742,-0.21994022,0.23506342,0.47050723,-0.46799678,0.010920733,0.24204338,-0.08339155,0.40580326,0.69400406,0.5683926,0.2414086,0.4747999,0.7170004,-0.21680725,-0.4680821,-0.82552266,0.21726395,-0.26640314,-0.2052741,0.5346464,0.35533038,-0.17741342,-0.005998774,0.6356778,-0.42649537,-0.16733228,-0.3942933,0.22399923,0.1864131,-0.55880404,-0.006030759,-0.10186519,-0.3842624,0.026837219,-0.5215854,-0.5630563,-0.12655534,-0.23258522,-0.5944093,0.47098914,0.14777115,-0.14461328,0.24351409,-0.66580296,-0.321945,0.07265709,0.19188644,0.31270796,0.26298258,-0.19595014,0.77126515,-0.4075432,0.019627463,0.25529155,-0.3865844,0.41281033,0.22076696,0.6973386,0.28408682,0.63543725,0.24654713,-0.09078705,-0.49963424,-0.49111977,0.13312317,0.044921026,-0.13924234,0.0682559,0.69844514,-0.01817801,-1.1819568,-0.99212885,-0.68822926,0.17432217,-0.39052907,0.1585454,-0.18371204,-0.30236837,0.13837552,0.6870839,0.07474472,0.24788842,-0.47321874,-0.80933386,-0.6521277,0.22083616,0.5518829,-0.084406585,-0.051591363,-0.38351634,-0.24479082,-0.3008059,-0.2270183,0.4021387,-0.27591673,-0.33094582,-0.14959712,0.1711613,-0.2112832,0.105709,-0.1434874,0.0048478595,-0.3718801,-0.18575501,0.1717966,-1.137397,0.53716224,0.357821,-0.06723753,-0.0036033136,-0.025554517,-0.26438028,0.3209057,-0.4839339,-0.37471682,0.022172336,-0.24080898,-0.05447791,0.112381995,0.019004205,0.18792172,0.2831846,0.46188307,0.38638857,-0.43357414,0.106035024,-0.05841184,-0.63560206,-0.5188212,-0.5198934,0.069374934,-0.039802633,-0.055261344,0.031752586,0.026987761,-0.14766102,-0.12129919,-0.16359666,-0.006651363,0.17250645,-0.25883186,-0.07746639,-0.28751382,-0.3541053,-0.2020875,-0.24554178,-0.5018968,-0.21024303,-0.12655115,-0.84558433,0.15625022,-0.0342893,-0.48700333,0.117051385,0.4715834,0.18177746,0.1931288,-0.21130148,0.012606354,-0.2743501,-0.11002535,-0.40551367,0.2567366,0.06258399,-0.22395228,-0.24363925,-0.059923854,-0.49090973,-0.5159498,0.39872003,-0.22845407,-0.3835567,0.21280162,0.054467045,0.1403567,-0.1573606,-0.045352053,0.4862615,-0.21405506,-0.038309213,0.084565446,0.21227135,-0.098681696,0.33965355,-0.3857934,-0.3050044,0.23788169,0.04794217,0.29446834,0.031372976,-0.9303003,-0.06358045,0.14140072,0.5552205,0.3195986,0.42529878,0.54235446,0.017618747,-0.1372883,-0.1668125,-0.05125631,-0.12924685,-0.3367757,-0.20656224,-0.009196962,0.020188373,-0.3307901,0.19342166,0.102367796,-0.24976537,-0.20136474,0.6560186,-0.01781734,0.20970787,0.5006393,-0.08917218,-0.13653138,0.40715778,-0.25707918,-1.1937394,-0.31174964,-0.53166986,-0.2996788,-0.5390757,-0.22675599,-0.0680912,-0.66778874,-0.5944217,-0.44525218,0.36956042,-0.4476746,0.26799375,-0.12410841,-0.6750999,-0.040801927,0.2098832,-0.3684396,0.17649134,-0.08278763,-0.1261634,0.03292494,-0.13837656,0.060808882,-0.23752257,0.010819827,0.57754344,0.46248326,-0.07154513,0.09580874,-0.2669992,-0.32444885,0.13231057,-0.022129918,0.42533338,-0.043646965,-0.15061186,0.13872094,-0.62781334,-0.40545738,-0.045322847,0.39034942,0.9729174,-1.0302655,-0.2708457,0.14172733,0.4555282,0.41469085,0.10842788,-0.45526,-0.08414531,-0.17937149,0.043887578,0.24270502,0.7586038,-0.2710304,0.051219817,0.45811957,-0.33154014,0.16228782,-0.063592054,0.1746054,0.21674255,0.01566543,0.33564726,0.39313692,0.20141995,-0.2211111,-0.4226593,-0.31522605,-0.17824867,-0.42932847,-0.07296762,-0.22886884,-0.050389197,0.056004535,-0.6987388,-0.2284321,-0.2872588,0.43458605,0.07626018,0.38893414,0.10866375,-0.32712007,-0.3021896,0.44158897,0.39719698,0.4998354,0.35615057,0.63743854,0.41530216,0.078728445,0.0813481,0.42533186,-0.36441025,-0.75422287,-0.62646645,-0.2030778,-1.1364642,-0.23393399,0.7893724,0.05403589,0.43197003,0.49264762,-0.30178022,0.31632525,-0.37727767,-0.75645715,-0.86038685,-0.5473227,-0.21270461,-0.4103053,-0.7260279,-0.31479338,-0.1191983,-0.29640406,-0.027092908,0.05334313,0.43265626,0.13472435,-0.038537994,-0.45692903,-0.6645485,-0.11276322,-0.621206,-0.7229491,-0.0016594153,-0.30148083,-0.2828288,0.37945396,0.15051232,0.21169166,-0.10582277,-0.13090536,-0.14856695,0.02806135,0.1114415,0.46935576,0.5478789,-0.23631454,-0.38257256,-0.2592755,0.028204262,0.13593481,0.29361027,-0.35794255,0.016172456,0.024176642,0.08094411,0.6327894,0.54829586,-0.37368855,-0.4426577,-0.31214166,0.07559294,-0.49700373,-0.105644226,0.18216874,1.0745857,0.5281094,-0.23234175,-0.13413607,-0.5313446,0.019782845,0.17296492,0.907458,-0.64666665,-0.55235225,-0.27595663,-0.050153982,-0.23060136,0.004645566,-0.07951905,0.057272933,-0.04896303,-0.39383528,-0.17236298,0.0037319744,0.9636502,0.0022197994,0.3276565,-0.5628935,-1.0730413,-0.1394123,-0.2831814,-1.0457319,-0.43440422,0.04653115,-0.4959432,-0.66680646,0.3965244,0.15695499,-0.18130124,-0.16467553,0.028923096,-0.24939461,-0.47637627,-0.006631617,-0.5818533,-0.18121845,0.5037879,-0.032998323,-0.36840877,-0.32352564,-0.2617639,0.27185652,-0.41813663,-0.48729762,0.18149388,-0.03869451,-0.0078057097,-0.2541497,-0.08570831,-0.27097598,0.46025833,0.3462917,-0.042876206,-0.18390292,-0.47222,-0.24458975,0.42539668,0.41963634,0.19318473,0.47312528,0.011962491,0.18357995,-0.046686016,-0.35644293,0.0090110665,0.04448299,0.2863175,0.28317985,-0.8532459,-0.13544977,-0.086772755,0.17017487,0.36988297,0.21992435,-0.6491584,-0.3988869,-0.31001243,-0.083791815,0.44552886,-0.05510411,0.26172036,0.6029348,-0.24284421,0.008412491,-0.18517974,-0.12163402,0.23030892,0.32009023,0.6441129,-0.9019681,-0.69329274,-0.23112646,-0.05015242,-0.41954875,-0.5509527,0.09524095,0.12552236,0.26852912,-0.55503565,-0.21188612,-0.26435098,0.4257597,0.10309232,0.34716484,-0.3928039,-0.51024085,-0.45390213,-0.38581964,-0.35631153,-0.78735715,0.004164283,0.028934896,0.12357121,0.2588962,0.2732882,-0.07168536,-0.073543295,0.16447465,0.1784021,0.31924388,-0.42805248,0.3010379,-0.3606351,-0.6639257,-0.2321107,0.37141904,0.014269579,-0.10597777,0.25050884,-0.1354628,-0.032861285,-0.13494554,0.371061,0.024781922,0.38865265,0.5180843,-0.024328524,0.0019456241,0.19443335,0.32358804,-0.6364374,-0.32364926,-0.1908618,-0.319505,0.17394665,0.012098177,0.10618286,-0.5319539,-0.013005439,-0.12676342,-0.12894344,-0.11155156,-0.24527073,0.366326,-0.3073511,-0.21171466,-0.11277189,-0.07220981,0.3174883,0.80409914,0.7077954,0.052346084,0.59854233,-0.000895468,0.21534194,0.22993696,-0.041377615,0.03293758,-0.5361306,-0.15134683,-0.3933064,0.10334926,-0.29345742,0.1769496,-0.14250709,0.56236744,0.11748126,-0.09341074,0.4719118,0.13402408,-0.08982685,0.039404113,0.21203841,-0.6310495,-1.0543393,-0.20198232,-0.21480368,-0.5916831,-0.13841921,0.6603943,0.814753,0.71471494,0.65630686,-0.30299422,-0.3223635,-0.3414843,-0.7373556,-0.041785356,-0.13756357,-0.2919745,0.079015635,-0.28030822,0.41173095,-0.15418883,-0.8069989,-0.08355168,-0.39766574,-0.6838929,0.35987523,0.50686795,-0.30540508,-0.27251473,0.20097663,-0.019982513,0.14426178,-0.41774866,0.19875312,0.01509057,-0.011266678,0.30892026,-0.145146,0.1379582,0.25807595,0.41265908,-0.3516286,-0.5612297,-0.70988435,0.013179984,0.5499525,0.38517013,0.62170535,-0.03597032,-0.10739589,-0.033202406,0.13416314,-0.6685954,0.32495433,0.8782563,-0.08053332,-0.058329806,-0.3044281,-0.18478467,-0.38749528,0.0066914093,0.032874245,-0.034930144,0.77471817,-0.33680648,-0.30331445,0.19264299,-0.41736335,0.29084113,0.11776347,-0.6996556,-0.08572972,0.654899,-0.10899073,-0.41965428,0.3428149,-0.033506744,0.28008518,-0.20689557,0.47235408,0.09318406,-0.22036038,-0.52089775,-0.27198198,-0.3268269,-0.37662354,0.85819906,0.13962922,-0.29235905,0.1094106,0.1738895,-0.7519302,0.49208897,0.015336701,0.56023526,-0.055475708,-0.3200265,-0.13365869,-0.055500675,-0.50365984,-0.3909278,0.105193436,0.2891904,0.281378,-0.13923068,0.5450679,0.46112022,-0.10766775,-0.0759476,0.3661743,-0.29057926,-0.7861354,-0.20397669,0.07766647,0.12000445,-0.18141925,-0.35275742,0.42727444,-0.08677474,-0.06768851,0.37593693,0.5133485,-0.5863429,-0.9832156,-0.83036846,0.20353684,0.5262395,-0.06566749,0.065153904,-0.009556177,0.11946663,-0.32388142,-0.0022532626,0.34717748,-0.4269504,0.06294701,-0.007945999,-0.24230622,0.30301246,0.18719164,0.36075342,-0.13918003,0.17821869,0.2810509,-0.3142832,0.07091147,0.088797264,0.08865609,-0.15642807,-0.593547,-1.0320061,-0.18309462,0.014569667,-0.26831916,-0.5021693,-0.39941365,-0.39541802,-0.20467609,-0.35588557,-0.67142904,-0.18064664,-0.037409335,-0.8083729,-0.04294965,1.0740675,0.11690929,0.11496299,0.60107243,-0.98225427,-0.5794025,0.4917596,-0.15601636,-0.15152666,0.5569855,-0.43019,-0.36773154,-0.019098487,-0.56413573,-0.07963486,0.88565934,-0.28630453,-0.22519927,0.049256496,-0.28269845,-0.99485207,0.039870378,0.42401582,-0.20614001,-0.0042260624,0.36161706,0.040577963,0.16147885,0.5533909,0.79520833,0.113268316,0.16928324,0.29212436,-0.8641591,-0.96966505,-0.84836465,0.54180014,0.38169193,0.23618507,0.06701095,-0.22061525,-0.28807783,0.5041846,0.5634904,-0.07918697,-0.50102663,-0.39147994,-0.5301983,0.32422057,0.14823797,0.26128647,-0.7353892,-0.22200775,0.028854948,-0.4038166,0.050690424,-0.47759235,-0.28724155,-0.30101615,0.21686804,-0.42688626,-0.30619776,0.07175552,0.087306224,-0.89565986,-0.8136618,0.7364095,0.30955163,0.28142294,0.20770647,-0.04874649,0.17603688,-0.30311996,-0.11381013,0.0026133903,0.20529917,0.016286049,0.12612261,0.29309392,0.56146425,0.03384284,0.44279984,0.7076991,-0.14211498,-0.23847115,-0.17588659,-0.21352638,0.039915472,-1.0080764,-0.18410991,-0.27348998,-0.89461666,0.28288972,0.3414552,-1.0046415,-0.4477019,0.40112975,-0.4775452,-0.08216666,-0.13740152,-0.4171351,0.40612867,-0.110078596,-0.18912831,-0.47912157,0.21345131,-0.38419187,-0.085585,-0.0008563139,-0.8850498,-0.28618744,0.51443857,-0.57188475,-0.037790637,-0.20076811,0.3208755,0.51588005,0.20346746,-0.6696969,-0.09962879,0.17356889,-0.4793065,-0.3280056,0.25341046,0.007865507,-0.3882592,-0.22468892,-0.24511285,-0.61414564,-0.12446666,-0.089911416,-0.4392752,0.024831507,-0.5350699,-0.049345065,0.1780388,0.019992946,0.2639466,0.12214565,0.0353285,-0.07197914,0.24108353,-0.073367976,-0.18202733,0.24987385,0.06851444,0.39389643,0.25276193,-0.49493006,-0.028008962,0.09904293,-0.7647962,-0.46825773,0.52830064,0.14198011,0.12182781,-0.4313909,0.5640154,-0.40389857,0.013667792,0.48982218,-0.10482261,-0.38964212,-0.18505868,-0.7391224,0.066833384,-0.04554147,0.061428748,-0.45201257,-0.2921059,-0.44180778,0.5742541,0.38611978,0.51131225,-0.12433437,-0.22744997,-0.113940485,0.3120828,0.04287581,-0.28800198,-0.020513337,0.37392277,-0.168415,0.042425398,-0.060435314,-0.37970597,-0.18048416,-0.23153563,0.05167353,0.48680398,-0.025456958,-0.05716487,0.23288609,0.22060184,0.054416757,-0.2391869,-0.22219926,-0.15835647,-0.12514296,0.012108731,0.3927009,-0.36561498,-0.39853197,-0.034577966,-0.30824292,0.259418,-0.15384617,0.9624305,0.6194334,-0.21985269,-0.13520455,0.38506207,0.104206964,-0.108467326,0.093239576,-0.071996816,0.17000516,-0.03380386,0.2348543,-0.12584563,-0.16701761,-0.4239794,0.5453642,-0.12397657,-0.52129614,0.07019736,0.008896492,-0.6092411,0.21776019,-0.33688033,0.69481,0.25270164,-0.497294,0.4145055,-0.073560804,-0.84997255,-0.07486459,0.21385142,-0.47510043,0.40503782,-0.22693378,-0.09636234,0.12335407,-0.59700567,-0.22558951,-0.12475509,-0.14583054,-0.3930792,-0.01944295,0.48593616,0.5690342,0.2732398,-0.28129667,-0.35260704,0.42918798,-0.15461926,-0.5275173,-0.41550288,-0.86478484,-0.45429128,-0.35271066,-0.17470706,0.09040748,0.39052138,0.20656097,0.57015496,0.22236869,0.033658028,-0.34748858,0.46819243,-0.14744025,-0.84831244,0.017019589,-0.3490548,-0.41548544,0.08955614,0.22260109,0.0404739,0.059984643,0.10915159,-0.18080683,0.23096776,0.069596514,-0.48006123,-0.5067252,0.19306476,0.16648285,-0.012316768,0.0051581175,0.42747995,0.20142989,-0.23686624,-0.073548436,0.15057097,-0.22298081,0.32747877,0.45699155,-0.4285636,0.18088835,-0.12902501,-0.61055875,-0.43668368,-0.37499955,-0.32276487,-0.4651876,-0.13232116,-0.3233376,-0.26266408,0.25266033,0.1819156,0.40755844,0.19731715,-0.8909525,-0.681543,0.10338657,-0.6433577,-0.46027565,-0.4787564,0.23941329,-0.25272068,0.6444662,-0.18583527,-0.5111934,0.21139202,-0.051064074,-0.096210435,-0.3076661,-0.38226208,-0.1593337,-0.027370762,0.27354997,0.9809257,0.6333111,-0.049838174,0.31970587,0.006536315,-0.67182356,-0.38990313,0.17839508,0.25582242,0.91650116,0.26745206,-0.118285894,0.3866491,-0.21366692,0.113778934,0.11417887,-0.27453697,-0.26153716,-0.09025138,-0.73692167,0.3089109,0.28290808,0.2722552,0.19403484,-0.2573306,0.2639147,0.22042447,0.017590526,0.19132863,-0.58921564,-0.1945959,-0.46970192,0.39932862,0.1987203,-0.11881256,0.58679813,0.12808959,-0.35946426,-0.30500478,-0.39008278,0.088642076,-0.085483365,0.26791015,0.14489187,0.54162925,0.45907503,-0.1312418,0.010515262,0.106519304,-0.5661373,-0.44826463,-0.21754049,-0.45161694,-0.54398173,0.1624629,0.4140236,0.4113882,0.6812403,0.41579124,-0.29717666,0.16347651,0.30562595,-0.053051222,-0.30638963,-0.8331137,-0.03847351,0.08688658,0.05395656,0.19505414,0.13277985,0.54064775,-0.39669806,-0.36230633,0.32074326,-0.3621252,-0.1524767,-0.01220961,-0.20369208,0.048626047,-0.3275196,-0.6243801,0.19946016,0.33021325,-0.30656528,0.30156323,-0.7152895,-0.19479129,-0.07482423,-0.46017864,0.026660055,-0.36627507,-0.48677298,0.3363589,0.06568501,-0.6738842,0.10508265,0.08836622,-0.351282,0.0045207045,0.37386194,0.056307916,0.20650299,0.38119718,0.15958905,0.0058375057,-0.23894067,-0.18914774,-0.41052184,0.030064436,0.2456363,-0.66949505,-0.42292863,-0.16091864,0.13368653,0.76791227,0.38502732,-0.19964086,-0.26208398,-0.47749463,0.15131448,-0.3725038,-0.19058417,0.2769923,0.24129866,0.02305599,-0.039758258,-0.016139556,-0.17097263,-0.6653547,-0.22032866,-0.06562632,-0.12494708,0.031660117,-0.09784851,-0.30897945,-0.4563216,-0.18192682,-0.013184274,0.35582528,0.3469265,-0.18747298,-0.33826384,0.2040004,-0.23185523,-0.43010205,0.34396613,-0.2867308,-0.2894785,0.4106248,-0.4103508,-0.13846587,-0.09636642,-0.040716853,-0.14771393,0.02058367,-0.11920834,-0.5287755,-0.3201512,0.2848305,0.44548318,-0.029428318,0.06307697,0.30473402,-0.41983727,0.26698583,0.63082135,0.18205689,0.034468997,0.30290323,-0.3445087,-0.4500446,-0.30388778,-0.5509432,0.4562534,0.24363175,0.5004012,0.12501562,0.65586644,0.0969027,-0.45261624,0.10586938,-0.25301608,-0.36787304,0.049656764,-0.5235092,0.015727326,0.08807283,-0.16177733,0.10993244,-0.1096129,-0.08124812,-0.10568581,-0.7965247,-0.07435899,-0.37448603,0.2350719,0.31602553,-0.33801216,-0.15418078,0.1696932,-0.4498707,0.081659615,0.04474783,0.2513419,0.718418,-0.03777647,-0.45111853,0.020140458,0.16204037,-0.112742454,0.05595552,0.0322888,-0.34052846,-0.29058042,-0.28707772,0.463543,0.15124945,0.6641854,0.32948482,-0.46593267,0.53001904,0.06682239,-0.2206835,-0.045104902,-0.5763392,-0.7038751,0.05237481,-0.09513378,0.2906607,0.6112456,-0.55348563,0.011791464,0.20330496,-0.012249879,-0.07114462,0.16705692,0.20470048,0.33390766,0.24318157,-0.26154265,-0.1227568,0.6283832,-0.18611884,0.07365808,-0.13196266,0.1718042,0.3338797,-0.07723392,0.715624,0.6630056,0.68312,-0.85636187,-0.3911126,-0.34723425,-0.55589306,-0.051394217,0.014072177,-0.43703422,-0.68706566,0.041047107,-0.20798326,-0.42963454,-0.1882823,0.23872487,0.35402545,0.39353085,0.049841587,0.35055336,-0.115418695,0.23830338,-0.29962444,-0.217287,-0.4070658,-0.21775267,-0.29377836,0.66807014,0.34345713,0.15187614,-0.50974065,-0.3811268,0.10710114,-0.29402423,0.19015129,0.014442381,0.1687539,0.92804164,-0.20238195,-0.3183589,-0.27755323,-0.4885984,-0.24610017,0.12024652,0.026727445,0.17780484,0.0788075,0.01446829,-0.3770425,-0.5366855,-0.33404392,-0.15563081,0.02730447,0.067794055,-0.106515,-0.37696883,-0.59401435,0.33504647,0.6839397,0.24072662,-0.1679951,-0.07907473,0.019772334,-0.5025384,-0.1310728,0.04429558,-0.05937265,0.0009986763,0.10843282,0.18863992,0.4146502,-0.30467728,-0.23415823,0.79129785,0.032866027,0.102633074,0.6486057,-0.2895316,-0.07369259,-0.08837532,-0.3516128,-0.12462828,-0.34437227,-0.34058717,-0.50123924,-0.2452562,-0.25017047,0.005040393,0.41267857,0.107496925,-0.1898348,0.4845568,0.1662773,-0.045806903,0.28750634,0.10048978,-0.07030424,-0.008587025,-0.08915236,-0.49096406,-0.4230143,-0.06310289,-0.12116266,-0.37007475,0.15901528,0.32460502,-0.24864118,-0.39387372,0.92017543,0.27152586,0.23140569,-0.14302085,-0.226729,-0.34461725,-0.11586252,0.3055383,0.07307638,-0.49627456,0.20950186,-0.25973257,0.050506286,0.52068686,-0.06792255,0.65334165,0.09938769,0.41671053,0.31206018,-0.51718336,-0.22243641,0.5529397,-0.020644799,-4.554943e-05,-0.5119459,-0.114626065,-0.10111581,-0.28812927,0.15291233,0.24821275,0.19627975,0.28759387,0.25733507,-0.16873376,0.12590975,-0.4252141,0.34548834,0.18444298,0.4295981,0.14690426,-0.03371375,-0.20642643,0.097944476,-0.132152,-0.34466198,0.14975213,0.041731555,-0.240411,0.25076586,0.74673456,0.12700473,-0.38933626,-0.07742697,-0.61349595,0.28503826,-0.21350728,-0.43273202,0.4032858,-0.13146815,0.1234075,-0.0144104855,-0.34350628,0.16244435,-0.9155561,-0.79892534,0.14984949,0.2066098,0.37050307,0.40322557,-0.4461488,-0.3976101,-0.69516546,0.225262,0.15349656,-0.0603304,0.039739925,0.08834818,-0.07355388,0.2670548,0.07585845,0.07423505,-0.068258755,-0.23647474,-0.45449874,0.06954366,-0.009202335,-0.42541704,-0.25044382,-0.2920153,0.10781899,-0.08446192,0.17224796,-0.009918239,-0.17483512,-0.27445418,-0.58558035,0.18765913,-0.32971737,0.1346774,0.45907158,-0.5713821,0.16306584,0.0021396955,-0.6786597,0.053039405,-0.113756925,-0.6317131,-0.33548498,-0.27657863,-0.8379987,0.027169535,-0.37610978,-0.39073318,-0.19514869,0.09732556,0.0565436,-0.19926174,-0.36143547,-0.17184384,-0.26991358,0.17592344,0.22330092,0.070026256,-0.29325774,-0.024985414,-0.09719625,-0.17274813,0.07079958,-0.13884658,-0.3544628,-0.17328537,-0.25185743,-0.19118413,0.31224623,-0.14557233,0.31489787,0.063242905,-0.21608871,0.51483965,-0.08403411,-0.21766238,0.37007093,-0.1688102,0.36492983,-0.9239555,-1.0265139,0.11526352,-0.34502187,-0.8233907,0.052187964,-0.318285,-0.3010763,0.2698201,-0.06292777,-0.078123964,0.16816917,0.044787787,0.53959924,0.5933855,-0.24415535,-0.4492196,0.30847415,-0.27435252,-0.119564645,0.37661403,-0.061058037,0.26164705,-0.7646752,0.14788345,0.47089055,0.042468347,-0.27115184,0.3075026,-0.45952898,-0.081434116,0.54064155,0.8094548,-0.5065689,-0.01594741,-0.19107592,-0.19620885,0.275312,-0.23400524,-0.32828993,-0.51336783,-0.16218719,0.272239,-0.2616539,0.54718715,0.15524864,0.25400844,-0.064101614,0.5512695,-0.030955356,-0.16446206,-0.04207278,0.08243841,0.10544545,0.12999849,0.04760876,0.067690894,-0.8530895,-0.8359219,-0.18979064,-0.1326389,-0.28582817,-0.30164662,-0.1686168,0.014597644,0.30936068,-0.2469043,0.19061089,0.37519106,-0.19829373,-0.17552154,0.3280253,-0.36729196,-0.32539913,0.12117939,-0.6195169,-0.5024153,-0.123245515,-0.23071043,-0.5005687,-0.22628373,-0.12505515,-0.5770042,-0.0018738214,-0.09655558,-0.0747293,0.49001747,0.22956109,-0.45030335,0.35580695,-0.03623355,-0.083305575,0.32390496,-0.6641054,-0.49434847,0.31686077,-0.12830672,-0.07668147,0.44918987,-0.8750715,-0.30828935,-0.34243512,-0.2015503,0.31901187,0.72471565,-0.08454105,0.20290637,0.30363414,-0.5699412,0.17471054,-0.16604263,-0.078810506,0.5620377,0.26309925,-0.27142784,0.09774897,0.08378304,0.18728499,-0.17117463,0.21931352,0.16243586,-0.11855176,0.2935784,0.031812325,-0.11573138,-0.29858413,-0.34652108,-0.6328186,-0.3095235,-0.23132099,0.32324085,0.21265891,-0.49272645,-0.13360614,-0.17754963,-0.34739724,-0.119354114,0.3437005,0.09979666,0.26841953,0.20773506,-0.11237851,0.119726725,0.46064973, /* bias */ -2.6794763};

#pragma GCC diagnostic ignored "-Wgnu-folding-constant"

#define uint unsigned int

// #define SCAN_VARIANCE 3
// #define SCAN_DELAY 60000
// #define ACTIVATION_SENITIVITY 0.75
// #define REPEAT_ACTIVATION 1
// #define FIRE_RATE_LIMIT_MS 800

// #define SCAN_VARIANCE 3
// #define SCAN_DELAY 30000
// #define ACTIVATION_SENITIVITY 0.65
// #define REPEAT_ACTIVATION 2
// #define FIRE_RATE_LIMIT_MS 800

#define SCAN_VARIANCE 0
#define SCAN_DELAY 1000
#define ACTIVATION_SENITIVITY 0.75
#define REPEAT_ACTIVATION 3
#define FIRE_RATE_LIMIT_MS 800

#define SCAN_WIDTH 28
#define SCAN_HEIGHT 28
const uint sw = SCAN_WIDTH;
const uint sh = SCAN_HEIGHT;
const uint sw2 = sw/2;
const uint sh2 = sh/2;
const uint slc = sw*sh;
const uint slall = slc*3;

uint x=0, y=0;

float input[slall] = {0};
    double r[slc] = {0};
    double g[slc] = {0};
    double b[slc] = {0};

Display *d;
int si;
Window twin;
GC gc = 0;
int tc = 0;


/***************************************************
   ~~ Neural Network Forward-Pass
*/
static inline float sigmoid(const float x)
{
    return 1.f / (1.f + expf(-x));
}

float processModel(const float* input)
{
    float o1 = 0.f;
    const int imax = slall+1;
    for(int i = 0; i < imax; i++)
    {
        if(i == slall)
        {
            o1 += aim_kernel[i]; // bias
            o1 = tanhf(o1);
        }
        else
        {
            o1 += input[i] * aim_kernel[i]; // weight
        }
    }

    const float out = (o1 * 17.364222.f) + -1.6903546.f;
    //return (out+100)*0.005; //when imax == slall (no bias or tanh)
    //return (out+20)*0.025;
    return sigmoid(out);
    //return out;
}


/***************************************************
   ~~ Utils
*/
uint64_t microtime()
{
	struct timeval tv;
	struct timezone tz;
	memset(&tz, 0, sizeof(struct timezone));
	gettimeofday(&tv, &tz);
	return 1000000 * tv.tv_sec + tv.tv_usec;
}

uint qRand(const uint min, const uint max)
{
    static float rndmax = (float)RAND_MAX;
    return ( ( (((float)rand())+1e-7) / rndmax ) * ((max+1)-min) ) + min;
}

//https://www.cl.cam.ac.uk/~mgk25/ucs/keysymdef.h
int key_is_pressed(KeySym ks)
{
    Display *dpy = XOpenDisplay(":0");
    char keys_return[32];
    XQueryKeymap(dpy, keys_return);
    KeyCode kc2 = XKeysymToKeycode(dpy, ks);
    int isPressed = !!(keys_return[kc2 >> 3] & (1 << (kc2 & 7)));
    XCloseDisplay(dpy);
    return isPressed;
}

void speakS(const char* text)
{
    char s[256];
    sprintf(s, "/usr/bin/espeak \"%s\"", text);
    if(system(s) <= 0)
        sleep(1);
}

void speakI(const int i)
{
    char s[256];
    sprintf(s, "/usr/bin/espeak %i", i);
    if(system(s) <= 0)
        sleep(1);
}

void speakF(const double f)
{
    char s[256];
    sprintf(s, "/usr/bin/espeak %.1f", f);
    if(system(s) <= 0)
        sleep(1);
}

Window getWindow() // gets child window mouse is over
{
    Display *d = XOpenDisplay((char *) NULL);
    if(d == NULL)
        return 0;
    int si = XDefaultScreen(d);
    XEvent event;
    memset(&event, 0x00, sizeof(event));
    XQueryPointer(d, RootWindow(d, si), &event.xbutton.root, &event.xbutton.window, &event.xbutton.x_root, &event.xbutton.y_root, &event.xbutton.x, &event.xbutton.y, &event.xbutton.state);
    event.xbutton.subwindow = event.xbutton.window;
    while(event.xbutton.subwindow)
    {
        event.xbutton.window = event.xbutton.subwindow;
        XQueryPointer(d, event.xbutton.window, &event.xbutton.root, &event.xbutton.subwindow, &event.xbutton.x_root, &event.xbutton.y_root, &event.xbutton.x, &event.xbutton.y, &event.xbutton.state);
    }
    const Window ret = event.xbutton.window;
    XCloseDisplay(d);
    return ret;
}

void processScanArea(Window w)
{
    // get image block
    XImage *img;
    if(SCAN_VARIANCE == 0)
        img = XGetImage(d, w, x-sw2, y-sh2, sw, sh, AllPlanes, XYPixmap);
    else
        img = XGetImage(d, w, (x+qRand(-SCAN_VARIANCE, SCAN_VARIANCE))-sw2, (y+qRand(-SCAN_VARIANCE, SCAN_VARIANCE))-sh2, sw, sh, AllPlanes, XYPixmap);
    if(img == NULL)
        return;

    // colour map
    const Colormap map = XDefaultColormap(d, si);

    // extract colour information
    double rh = 0.f, rl = 99999999999999.f, rm = 0.f;
    double gh = 0.f, gl = 99999999999999.f, gm = 0.f;
    double bh = 0.f, bl = 99999999999999.f, bm = 0.f;
    int i = 0;
    for(int y = 0; y < sh; y++)
    {
        for(int x = 0; x < sw; x++)
        {
            XColor c;
            c.pixel = XGetPixel(img, x, y);
            XQueryColor(d, map, &c);

            r[i] = (double)c.red;
            g[i] = (double)c.green;
            b[i] = (double)c.blue;

            if(r[i] > rh){rh = r[i];}
            if(r[i] < rl){rl = r[i];}
            rm += r[i];

            if(g[i] > gh){gh = g[i];}
            if(g[i] < gl){gl = g[i];}
            gm += g[i];

            if(b[i] > bh){bh = b[i];}
            if(b[i] < bl){bl = b[i];}
            bm += b[i];

            i++;
        }
    }

    // free image block
    XFree(img);

    /////////////////
    // mean normalised

    rm /= slc;
    gm /= slc;
    bm /= slc;

    const double rmd = rh-rl;
    const double gmd = gh-gl;
    const double bmd = bh-bl;

    for(uint i = 0, i2 = 0; i < slall; i += 3, i2++)
    {
        input[i]   = ((r[i2]-rm)+1e-7) / (rmd+1e-7);
        input[i+1] = ((g[i2]-gm)+1e-7) / (gmd+1e-7);
        input[i+2] = ((b[i2]-bm)+1e-7) / (bmd+1e-7);
    }
}

/***************************************************
   ~~ Program Entry Point
*/
int main(int argc, char *argv[])
{
    // speed test
    srand(time(0));
    for(int a = 0; a < 6; a++)
    {
        uint64_t st = microtime();
        for(uint64_t i = 0; i < 10000; i++)
        {
            for(int i = 0; i < slall; i++)
                input[i] = rand()%255;

            const float a = processModel(&input[0]);
        }
        printf("Time Taken: %lu μs\n", microtime()-st);
    }
    printf("\n");

    //

    printf("James William Fletcher (james@voxdsp.com)\n\n");
    printf("Hotkeys:\n");
    printf("L-CTRL + L-ALT = Toggle BOT ON/OFF\n");
    printf("R-CTRL + R-ALT = Toggle HOTKEYS ON/OFF\n");
    printf("\nL-SHIFT / V = Autoshoot while pressed.\n\n");
    printf("T = Toggle autoshoot on/off.\n");
    printf("P = Toggle crosshair.\n");
    printf("C = Output input array from reticule area.\n");
    printf("G = Get activation for reticule area.\n");
    printf("H = Get scans per second.\n");
    printf("\n\n");

    //
    
    XEvent event;
    memset(&event, 0x00, sizeof(event));
    
    uint enable = 0;
    uint autofire = 0;
    uint crosshair = 0;
    uint hotkeys = 1;

    //
    
    while(1)
    {
        // loop every SCAN_DELAY ms (1,000 microsecond = 1 millisecond)
        usleep(SCAN_DELAY);

        // bot toggle
        if(key_is_pressed(XK_Control_L) && key_is_pressed(XK_Alt_L))
        {
            if(enable == 0)
            {
                // open display 0
                d = XOpenDisplay((char *) NULL);
                if(d == NULL)
                    continue;

                // get default screen
                si = XDefaultScreen(d);

                // get graphics context
                gc = DefaultGC(d, si);

                // get window
                twin = getWindow();

                // get center window point (x & y)
                XWindowAttributes attr;
                XGetWindowAttributes(d, twin, &attr);
                x = attr.width/2;
                y = attr.height/2;

                // set mouse event
                memset(&event, 0x00, sizeof(event));
                event.type = ButtonPress;
                event.xbutton.button = Button1;
                event.xbutton.same_screen = True;
                event.xbutton.subwindow = twin;
                event.xbutton.window = twin;

                enable = 1;
                usleep(300000);
                printf("BOT: ON [%ix%i]\n", x, y);
                speakS("on");
            }
            else
            {
                enable = 0;
                usleep(300000);
                XCloseDisplay(d);
                printf("BOT: OFF\n");
                speakS("off");
            }
        }
        
        // toggle bot on/off
        if(enable == 1 && getWindow() == twin)
        {
            // input toggle
            if(key_is_pressed(XK_Control_R) && key_is_pressed(XK_Alt_R))
            {
                if(hotkeys == 0)
                {
                    hotkeys = 1;
                    usleep(300000);
                    printf("HOTKEYS: ON [%ix%i]\n", x, y);
                    speakS("hk on");
                }
                else
                {
                    hotkeys = 0;
                    usleep(300000);
                    printf("HOTKEYS: OFF\n");
                    speakS("hk off");
                }
            }

            if(hotkeys == 1)
            {
                // detect when pressed
                if(autofire <= 1)
                {
                    if(key_is_pressed(XK_Shift_L))
                        autofire = 1;
                    else
                        if(key_is_pressed(XK_V))
                            autofire = 1;
                        else
                            autofire = 0;
                }

                // autofire toggle
                if(key_is_pressed(XK_T))
                {
                    if(autofire == 0)
                    {
                        autofire = 2;
                        usleep(300000);
                        printf("AUTOFIRE: ON\n");
                        speakS("af on");
                    }
                    else
                    {
                        autofire = 0;
                        usleep(300000);
                        printf("AUTOFIRE: OFF\n");
                        speakS("af off");
                    }
                }
                
                // crosshair toggle
                if(key_is_pressed(XK_P))
                {
                    if(crosshair == 0)
                    {
                        crosshair = 1;
                        usleep(300000);
                        printf("CROSSHAIR: ON\n");
                        speakS("cx on");
                    }
                    else
                    {
                        crosshair = 0;
                        usleep(300000);
                        printf("CROSSHAIR: OFF\n");
                        speakS("cx off");
                    }
                }

                // print input data
                if(key_is_pressed(XK_C))
                {
                    processScanArea(twin);

                    // per channel
                    printf("R: ");
                    for(uint i = 0; i < slc; i++)
                        printf("%.2f ", r[i]);
                    printf("\n\n");

                    printf("G: ");
                    for(uint i = 0; i < slc; i++)
                        printf("%.2f ", g[i]);
                    printf("\n\n");

                    printf("B: ");
                    for(uint i = 0; i < slc; i++)
                        printf("%.2f ", b[i]);
                    printf("\n\n");
                }

            }
            
            if(autofire > 0) // left mouse trigger on activation
            {
                processScanArea(twin);
                int TRIGGER = 2; // low detections get one shot
                const float activation = processModel(&input[0]);
                // if(activation > 0.8){TRIGGER = 3;} // mid range gets 3 shots
                // if(activation > 0.9){TRIGGER = 6;} // high range gets 6 shots

                // passed minimum activation?
                if(activation > ACTIVATION_SENITIVITY)
                {
                    tc++;

                    // did we activate enough times in a row to be sure this is a target?
                    if(tc > REPEAT_ACTIVATION)
                    {
                        // fire off as many shots as we need to
                        for(int i = 0; i < TRIGGER; i++)
                        {
                            // fire mouse down
                            event.type = ButtonPress;
                            event.xbutton.state = 0;
                            XSendEvent(d, PointerWindow, True, 0xfff, &event);
                            XFlush(d);
                            
                            // wait 100ms (or ban for suspected cheating)
                            usleep(100000);
                            
                            // release mouse down
                            event.type = ButtonRelease;
                            event.xbutton.state = 0x100;
                            XSendEvent(d, PointerWindow, True, 0xfff, &event);
                            XFlush(d);

                            // fire limit
                            usleep(FIRE_RATE_LIMIT_MS * 100);
                        }

                        // fire limit
                        usleep(FIRE_RATE_LIMIT_MS * 1000);
                    }
                }
                else
                {
                    tc = 0;
                }
            }
            else if(hotkeys == 1 && key_is_pressed(XK_G)) // print activation when pressed
            {
                static uint64_t st = 0;
                static uint sc = 0;
                processScanArea(twin);
                const float ret = processModel(&input[0]);
                sc++;
                if(microtime() - st >= 1000000)
                {
                    printf("\e[36mSPS: %u\e[0m\n", sc);
                    sc = 0;
                    st = microtime();
                }
                if(ret > ACTIVATION_SENITIVITY)
                {
                    printf("\e[93mA: %f\e[0m\n", ret);
                    XSetForeground(d, gc, 65280);
                    XDrawRectangle(d, event.xbutton.window, gc, x-sw2-1, y-sh2-1, sw+2, sh+2);
                    XSetForeground(d, gc, 0);
                    XDrawRectangle(d, event.xbutton.window, gc, x-sw2-2, y-sh2-2, sw+4, sh+4);
                    XFlush(d);
                }
                else
                {
                    printf("A: %f\n", ret);
                    XSetForeground(d, gc, 16711680);
                    XDrawRectangle(d, event.xbutton.window, gc, x-sw2-1, y-sh2-1, sw+2, sh+2);
                    XSetForeground(d, gc, 0);
                    XDrawRectangle(d, event.xbutton.window, gc, x-sw2-2, y-sh2-2, sw+4, sh+4);
                    XFlush(d);
                }                
            }
            else if(hotkeys == 1 && key_is_pressed(XK_H)) // print samples per second when pressed
            {
                static uint64_t st = 0;
                static uint sc = 0;
                processScanArea(twin);
                const float ret = processModel(&input[0]);
                sc++;
                if(microtime() - st >= 1000000)
                {
                    printf("\e[36mSPS: %u\e[0m\n", sc);
                    sc = 0;
                    st = microtime();
                }              
            }

            if(crosshair == 1)
            {
                XSetForeground(d, gc, 0);
                XDrawPoint(d, event.xbutton.window, gc, x, y);
                XSetForeground(d, gc, 65280);
                XDrawRectangle(d, event.xbutton.window, gc, x-1, y-1, 2, 2);
                XSetForeground(d, gc, 0);
                XDrawRectangle(d, event.xbutton.window, gc, x-2, y-2, 4, 4);
                XFlush(d);
            }

        ///
        }
    }

    // done, never gets here in regular execution flow
    return 0;
}
